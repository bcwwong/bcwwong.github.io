{"config": {"lang": ["en"], "separator": "[\\s\\-]+", "pipeline": ["stopWordFilter"]}, "docs": [{"location": "", "title": "Welcome to MkDocs", "text": "<p>For full documentation visit mkdocs.org.</p>"}, {"location": "#commands", "title": "Commands", "text": "<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"}, {"location": "#project-layout", "title": "Project layout", "text": "<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"}, {"location": "blog-template/", "title": "Title of post", "text": ""}, {"location": "Q-and-A/", "title": "Blog", "text": ""}, {"location": "Q-and-A/2024/06/09/backuprestore-mysql-databases/", "title": "Backup/restore mysql databases", "text": "<p>How to back up and restore mysql databases in School server?</p>", "tags": ["theorigo", "mysql"]}, {"location": "Q-and-A/2024/06/09/backuprestore-mysql-databases/#mysqldump-to-backup-database-to-a-file", "title": "mysqldump to backup database to a file", "text": "<p>Command: <pre><code>mysqldump -u &lt;USERNAME&gt; -p&lt;PASSWORD&gt; --lock-tables=false -q --single-transaction  --extended-insert --disable-keys --flush-privileges --quick --routines --triggers --no-tablespaces --databases &lt;DATABASE&gt; | gzip &gt; DB.sql.gz \n</code></pre></p> <p>Note</p> <p>Replace <code>&lt;USERNAME&gt;</code>, <code>&lt;PASSWORD&gt;</code>, <code>&lt;DATABASE&gt;</code> with real username, password and database name</p> <ol> <li>sbms web site: username=sbmsnew; database=sbmsnew;</li> <li>teaching timetable: username=sbms; database=sbms;</li> <li>equipment list: username=biochem; database=biochem; </li> </ol> <ol> <li> <p>backup database sbms (timetable etc) into sbms-DB.sql.gz  <pre><code>mysqldump -u sbms -p&lt;PASSWORD&gt; --lock-tables=false -q --single-transaction  --extended-insert --disable-keys --flush-privileges --quick --routines --triggers --no-tablespaces --databases sbms | gzip &gt; sbms-DB.sql.gz \n</code></pre></p> </li> <li> <p>backup database sbmsnew (school web site) into sbmsnew-DB.sql.gz  <pre><code>mysqldump -u sbmsnew -p&lt;PASSWORD&gt; --lock-tables=false -q --single-transaction  --extended-insert --disable-keys --flush-privileges --quick --routines --triggers --no-tablespaces --databases sbmsnew | gzip &gt; sbmsnew-DB.sql.gz \n</code></pre></p> </li> <li> <p>backup database biochem (equipment list) into biochem-DB.sql.gz  <pre><code>mysqldump -u biochem -p&lt;PASSWORD&gt; --lock-tables=false -q --single-transaction  --extended-insert --disable-keys --flush-privileges --quick --routines --triggers --no-tablespaces --databases biochem | gzip &gt; biochem-DB.sql.gz \n</code></pre></p> </li> </ol>", "tags": ["theorigo", "mysql"]}, {"location": "Q-and-A/2024/06/09/backuprestore-mysql-databases/#restore-databases", "title": "Restore databases", "text": "<p>gunip mysqldump files: <pre><code>gunzip sbms-DB.sql.gz\ngunzip sbmsnew-DB.sql.gz\ngunzip biochem-DB.sql.gz\n</code></pre></p> <p>Log in mysql:     <pre><code>mysql -u &lt;USERNAME&gt; -p&lt;PASSWORD&gt;\n</code></pre> Restore database:     <pre><code>mysql&gt; use &lt;DATABASE&gt;\nmysql&gt; \\W\nmysql&gt; source &lt;mysqldump_file&gt;\nmysql&gt; exit\n</code></pre></p> <ol> <li> <p>Restore database sbms (for timetable etc)     <pre><code>mysql -u sbms -p&lt;PASSWORD&gt;\n</code></pre> <pre><code>mysql&gt; use sbms\nmysql&gt; \\W\nmysql&gt; source sbms-DB.sql\nmysql&gt; exit\n</code></pre> </p> </li> <li> <p>Restore database sbmsnew: (for school website etc)     <pre><code>mysql -u sbmsnew -p&lt;PASSWORD&gt;\n</code></pre> <pre><code>mysql&gt; use sbmsnew\nmysql&gt; \\W\nmysql&gt; source sbmsnew-DB.sql\nmysql&gt; exit\n</code></pre> </p> </li> <li> <p>Restore database biochem (for equipment list):     <pre><code>mysql -u biochem -p&lt;PASSWORD&gt;\n</code></pre> <pre><code>mysql&gt; use biochem\nmysql&gt; \\W\nmysql&gt; source biochem-DB.sql\nmysql&gt; exit\n</code></pre> </p> </li> </ol>", "tags": ["theorigo", "mysql"]}, {"location": "Q-and-A/2024/06/29/make-folder-writable-by-apache/", "title": "Make folder writable by Apache", "text": "<p>The <code>~/html/writables</code> folder in School server needed to be writable by Apache. Use <code>setfacl</code> command to change access control of these folders so Apache can write to these folder. User (sbms) can delete files created by Apache.</p> <p>Command: <pre><code>setfacl -R -m d:u:sbms:rwx,u:sbms:rwx,d:u:apache:rwx,u:apache:rwx &lt;FOLDER&gt;\n</code></pre></p> <pre><code>[sbms@webcloud01 html]$ ls -l\ndrwxrwxr-x. 12 sbms sbm   4096 Jul 22  2023 writables\n</code></pre> <p>Change permissions for html/writables folder to be writable by apache web server <pre><code>$ setfacl -R -m d:u:sbms:rwx,u:sbms:rwx,d:u:apache:rwx,u:apache:rwx /disk1/sbm/sbms/html/writables\n</code></pre></p> <p>Check folder permission after <code>setfacl</code> command (note the '+' character after directory listing): <pre><code>[sbms@webcloud01 html]$ ls -l\ndrwxrwxr-x+ 12 sbms sbm   4096 Jul 22  2023 writables\n</code></pre></p> <p>Additional folders may also need to be writable by Apache</p> <p>Make <code>html/theorigo/application/logs</code> folder writable by Apache if you want to output application log to the default log folder. Alternatively, you can save the application log to ~/html/writables/logs <pre><code>/disk1/sbm/sbms/html/theorigo/application/logs \n</code></pre></p>", "tags": ["theorigo", "linux"]}, {"location": "Q-and-A/2024/06/30/how-to-make-text-in-slider-on-frontpage-clickable/", "title": "How to make text in slider on frontpage clickable", "text": "<p>URL for image in \"Key Visual\" in front page is formatted incorrectly and the title text has no hyperlink. How to fix? </p> <p>Edit file <code>html/theorigo/application/modules/main/views/index.twig</code>.</p> <ol> <li>Line #9: change from:  <pre><code>&lt;a{{ banner['href_target'][0] }}\n</code></pre>  to:   <pre><code>&lt;a{{ banner['href_target'][0] | raw }} style=\"text-decoration:none\"&gt;\n</code></pre></li> <li>Wrap the title text <code>{{ banner['heading'][0] | raw }}</code> (line 16 of original code) with the following code to add hyperlink to title text. <code>style=\"text-decoration:none\"</code> is to remove the underline in hyperlinked text. <pre><code>&lt;a{{ banner['href_target'][0] | raw }}  style=\"text-decoration:none\"&gt;\n\n&lt;/a&gt;\n</code></pre> <pre><code>{% extends '@theme/base.twig' %}\n{% block content %}\n&lt;section class=\"main-top\"&gt;\n    &lt;div class=\"slider-wrap\"&gt;\n        &lt;div class=\"slider slider-hero\"&gt;\n            {%  for banner in banners  %}\n            &lt;div class=\"slider__item slider-hero__item slick-slide\"&gt;\n                &lt;div class=\"slider-imgC slider-hero__imgC\"&gt;\n                    &lt;a{{ banner['href_target'][0] | raw }} style=\"text-decoration:none\"&gt; &lt;!-- Brian edited --&gt;\n                        &lt;img class=\"hidden-xs\"{{ banner['image'][1] | raw }}&gt;\n                        &lt;img class=\"visible-xs\"{{ banner['mobile_image'][1] | raw }}&gt;\n                    &lt;/a&gt;\n                &lt;/div&gt;\n                &lt;div class=\"slider__content slider-hero__content\"&gt;\n                    &lt;h1 class=\"slider__heading slider-hero__heading\"&gt;\n                        &lt;a{{ banner['href_target'][0] | raw }}  style=\"text-decoration:none\"&gt;  &lt;!-- Brian added, activate link to text --&gt;\n                        {{ banner['heading'][0] | raw }}\n                        &lt;/a&gt; &lt;!-- Brian added --&gt;\n                    &lt;/h1&gt;\n                    &lt;div class=\"slider__text slider-hero__text\"&gt;\n                        &lt;span&gt;{{ banner['subheading'][0] | raw }}&lt;/span&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            {%  endfor  %}\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/section&gt;\n</code></pre></li> <li>Run clear_all_cache script to refresh: <code>http://www.sbms.hku.hk/clear_all_cache</code> </li> </ol>", "tags": ["theorigo", "key visual"]}, {"location": "Q-and-A/archive/2024/", "title": "2024", "text": ""}, {"location": "Q-and-A/category/theorigo/", "title": "theorigo", "text": ""}, {"location": "Q-and-A/category/key-visual/", "title": "key visual", "text": ""}, {"location": "Q-and-A/category/linux/", "title": "linux", "text": ""}, {"location": "Q-and-A/category/mysql/", "title": "mysql", "text": ""}, {"location": "tags/", "title": "Tags", "text": ""}, {"location": "tags/#key-visual", "title": "key visual", "text": "<ul> <li>How to make text in slider on frontpage clickable</li> </ul>"}, {"location": "tags/#linux", "title": "linux", "text": "<ul> <li>Make folder writable by Apache</li> </ul>"}, {"location": "tags/#mysql", "title": "mysql", "text": "<ul> <li>Backup/restore mysql databases</li> </ul>"}, {"location": "tags/#theorigo", "title": "theorigo", "text": "<ul> <li>Backup/restore mysql databases</li> <li>Make folder writable by Apache</li> <li>How to make text in slider on frontpage clickable</li> </ul>"}]}